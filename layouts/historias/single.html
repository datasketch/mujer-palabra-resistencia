{{ define "main" }}
{{ $banner := index .Params.images 0 }}
{{ $firstMapLayer := print "images/mapas/mapa-" .Params.mapa "-1.png" }}
{{ $secondMapLayer := print "images/mapas/mapa-" .Params.mapa "-2.png" }}
<div class="relative bg-center bg-cover bg-no-repeat h-screen text-white" style='background-image: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 25%, rgba(0, 0, 0, 0.4) 75%, rgba(0, 0, 0, 0) 100%), url({{ $banner | absURL }});'>
  <div class="px-4 absolute w-full" style="top: 50%; transform: translateY(-50%)">
    <div class="max-w-lg mx-auto text-center font-playfair-display">
      <h1 class="font-bold text-4xl leading-tight lg:text-5xl">{{ .Title }}</h1>
      <p class="mt-4 italic text-xl lg:text-3xl">{{ .Params.subtitle }}</p>
    </div>
  </div>
  <div class="px-4 pb-10 absolute w-full bottom-0">
    <div class="max-w-md mx-auto text-center font-playfair-display text-lg lg:text-xl">
      <img class="invert mx-auto" src='{{ "images/separador.svg" | absURL }}' alt="">
      <p class="font-bold mt-4">Por: {{ .Params.author }}</p>
      <p>{{ .Params.role }}</p>
    </div>
  </div>
</div>
<div class="w-full step relative h-screen">
  <img class="absolute w-full h-full object-center object-cover" src="{{ $firstMapLayer | absURL }}" alt="" id="first-layer">
  <img class="absolute w-full h-full object-center object-cover" src="{{ $secondMapLayer | absURL }}" alt="" id="second-layer" style="opacity: 0;">
</div>
<div class="px-4 py-24 w-full mx-auto md:w-4/5">
  <div class="rendered-markup-story">
    {{ .Content }}
  </div>
  <div class="text-center mt-10">
    <a href="{{ .Site.BaseURL }}" target="_blank" rel="noopener noreferrer" class="inline-block border-eerie-black border-2 px-2 py-1 mt-4 text-xl font-bold">Volver al inicio</a>
  </div>
</div>
{{ end }}

{{ define "scripts" }}
<script src='{{ "vendors/scrollmagic/scrollmagic.min.js" | absURL }}'></script>
{{ $historias_js := resources.Get "js/historias.js" | minify }}
<script src="{{ $historias_js.Permalink }}"></script>
{{ end }}